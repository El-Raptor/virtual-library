# ğŸ“š Virtual Library API

A RESTful API for managing authors and books, built with **Java 25**, **Spring Boot 3.5.6**, **PostgreSQL 17.0**, **Maven**, and **Docker**.  
The project provides CRUD operations for authors and books, following best practices in REST design and documentation with **OpenAPI/Swagger**.

---

## ğŸ§  Overview

The **Virtual Library** API allows you to:
- Manage authors (create, list, update, delete)
- Manage books linked to authors
- Explore a structured and well-documented API using Swagger UI

---

## ğŸ§° Tech Stack

![Java](https://img.shields.io/badge/Java-25-blue?logo=openjdk)
![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.5.6-brightgreen?logo=springboot)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-17.0-blue?logo=postgresql)
![Flyway](https://img.shields.io/badge/Flyway-11.15.0-red?logo=flyway)
![Maven](https://img.shields.io/badge/Maven-3.9.11-orange?logo=apachemaven)
![Docker](https://img.shields.io/badge/Docker%20Compose-Containerization-2496ED?logo=docker)
![JUnit](https://img.shields.io/badge/JUnit-Testing-25A162?logo=junit5)
![Mockito](https://img.shields.io/badge/Mockito-Unit%20Testing-FF9900?logo=java)
![GitHub Actions](https://img.shields.io/badge/GitHub%20Actions-CI%2FCD-2088FF?logo=githubactions)
![OpenAPI](https://img.shields.io/badge/OpenAPI-Documentation-6BA539?logo=swagger)

| Technology | Version | Purpose |
|-------------|---------|----------|
| Java | 25      | Core language |
| Spring Boot | 3.5.6   | Application framework |
| PostgreSQL | 17.0    | Database |
| Maven | 3.9.11  | Build automation |
| Docker Compose | Latest  | Container orchestration |
| Flyway | 11.15.0 | Database migration |
| JUnit | 5       | Unit testing |
| Mockito | Latest  | Mocking framework for unit tests |
| GitHub Actions | -       | Continuous Integration / Delivery |
| OpenAPI / Swagger | -       | API documentation |

---

## ğŸ—ï¸ Project Structure

```
com.raptor.virtuallibrary
â”œâ”€â”€ controller
â”‚   â”œâ”€â”€ AuthorController.java
â”‚   â””â”€â”€ BookController.java
â”œâ”€â”€ dto
â”‚   â”œâ”€â”€ AuthorCreateDTO
â”‚   â”œâ”€â”€ AuthorDTO
â”‚   â”œâ”€â”€ AuthorSummaryDTO
â”‚   â”œâ”€â”€ BookCreateDTO
â”‚   â”œâ”€â”€ BookDTO
â”‚   â””â”€â”€ BookSummaryDTO
â”œâ”€â”€ entity
â”‚   â”œâ”€â”€ Author.java
â”‚   â””â”€â”€ Book.java
â”œâ”€â”€ mapper
â”‚   â”œâ”€â”€ AuthorMapper
â”‚   â””â”€â”€ BookMapper
â”œâ”€â”€ repository
â”‚   â”œâ”€â”€ AuthorRepository.java
â”‚   â””â”€â”€ BookRepository.java
â”œâ”€â”€ service
â”‚   â”œâ”€â”€ AuthorService.java
â”‚   â””â”€â”€ BookService.java
â””â”€â”€ VirtualLibraryApplication.java
```

---

## ğŸš€ Running the Application

### â–¶ï¸ Option 1: Run Locally with Maven

Make sure you have:
- **Java 25+**
- **Maven 3.9+**
- **PostgreSQL 17+** (running and accessible)

1. Clone the repository:
   ```bash
   git clone https://github.com/El-Raptor/virtual-library.git
   cd virtuallibrary
   ```

2. Configure your database connection in `application.properties` or `application.yml`:
   ```properties
   spring.datasource.url=jdbc:postgresql://localhost:5432/virtuallibrary
   spring.datasource.username=postgres
   spring.datasource.password=your_password
   spring.jpa.hibernate.ddl-auto=update
   ```
3. Create virtual_library schema using PostgreSQL
4. Create Author and Book tables in virtual_library schema
3. Run the application:
   ```bash
   mvn spring-boot:run
   ```

4. Access the API at:  
   ğŸ‘‰ `http://localhost:8080`

5. Swagger documentation available at:  
   ğŸ‘‰ `http://localhost:8080/swagger-ui/index.html`

---

### ğŸ³ Option 2: Run with Docker

1. Run via Docker Compose:
   ```bash
   docker compose up --build
   ```
   This command builds and starts all required containers (backend + PostgreSQL). The API will be available at http://localhost:8090

2. Swagger UI will be available at:  
   ğŸ‘‰ `http://localhost:8090/swagger-ui/index.html`

---

## ğŸ“˜ API Documentation (OpenAPI / Swagger)

The API documentation is automatically generated by **Springdoc OpenAPI** and accessible at:

- **Swagger UI:** `http://localhost:8090/swagger-ui/index.html`  
- **OpenAPI JSON:** `http://localhost:8090/v3/api-docs`

---

## ğŸ“š Example Endpoints

### ğŸ”¹ Authors

| Method | Endpoint | Description |
|--------|-----------|-------------|
| `GET` | `/api/authors` | List all authors |
| `GET` | `/api/authors/{id}` | Get author by ID |
| `POST` | `/api/authors` | Create a new author |
| `PUT` | `/api/authors/{id}` | Update an existing author |
| `DELETE` | `/api/authors/{id}` | Delete an author |

**Example â€” Create an Author:**
```bash
curl -X POST http://localhost:8080/api/authors      -H "Content-Type: application/json"      -d '{"name":"Machado de Assis"}'
```

**Example â€” List Authors:**
```bash
curl -X GET http://localhost:8080/api/authors
```

---

### ğŸ”¹ Books

| Method | Endpoint | Description |
|--------|-----------|-------------|
| `GET` | `/api/books` | List all books |
| `GET` | `/api/books/{id}` | Get book by ID |
| `POST` | `/api/books` | Create a new book |
| `PUT` | `/api/books/{id}` | Update a book |
| `DELETE` | `/api/books/{id}` | Delete a book |

**Example â€” Create a Book:**
```bash
curl -X POST http://localhost:8080/api/books      -H "Content-Type: application/json"      -d '{"title":"Dom Casmurro","authorId":1}'
```

**Example â€” List Books:**
```bash
curl -X GET http://localhost:8080/api/books
```

---

## ğŸ§© Dependencies

The main dependencies used include:

- `spring-boot-starter-web`
- `spring-boot-starter-data-jpa`
- `spring-boot-starter-validation`
- `springdoc-openapi-starter-webmvc-ui`
- `postgresql`
- `lombok`
- `flyway-core`
- `flyway-database-postgresql`

---

## ğŸ§ª Testing

Run all tests with Maven:
```bash
mvn test
```

---

## ğŸ—ºï¸ Roadmap

### Version 1.0 Core API
- [x] Create initial project structure with Spring Boot
- [x] Implement the CRUD for Authors and Books
- [x] Integrate PostgreSQL database
- [x] Add OpenAPI/Swagger documentation
- [x] Add Dockerfile and Docker Compose
- [x] Add unit tests for services
- [x] Configure CI/CD pipeline with GitHub actions
- [x] Create Docker Compose setup with PostgreSQL and app containers

###  Version 1.1 - Improvements and Testing
- [ ] Add integration tests for services and controllers
- [ ] Implement exception handling and validation

### Version 2.0 - Security & Production
- [ ] Add JWT authentication and authorization with Spring Security
- [ ] Improve logging and observability
- [ ] Add monitoring and metrics dashboard (Prometheus/Grafana)

---

## ğŸ‘¤ Author

**Felipe Salles Lopes**  
- ğŸŒ [GitHub](https://github.com/El-Raptor)  
- ğŸ’¼ [LinkedIn](https://linkedin.com/in/felipe-salles-lopes)

---

## âš–ï¸ License

This project is licensed under the **MIT License** â€” see the [LICENSE](LICENSE) file for details.
